(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"4ce9":function(t,e,s){},8650:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-pa-md"},[s("div",{staticClass:"bg-grey-2 q-pa-sm rounded-borders q-mb-md"},[s("q-toggle",{attrs:{name:"music_active",label:t.labelToggle},model:{value:t.showFilterSort,callback:function(e){t.showFilterSort=e},expression:"showFilterSort"}})],1),s("transition",{attrs:{appear:"","enter-active-class":"animated backInUp"}},[t.showFilterSortPanel?s("div",{staticClass:"menu-filter"},[s("SearchBarCustomers"),s("SortByCustomers",{staticClass:"q-mb-md"})],1):t._e()]),s("q-list",{attrs:{bordered:"",padding:"",separator:""}},[s("q-item-label",{attrs:{header:""}},[t._v("\n      Общий список клиентов\n    ")]),t.customers.length?[s("transition-group",{attrs:{appear:"","enter-active-class":"animated backInUp","leave-active-class":"animated backInUp"}},t._l(t.customers,(function(t){return s("CustomerItem",{key:t.id,staticClass:"customerList",attrs:{slug:t.id,rating:t.rating,username:t.username,reviews:t.reviews}})})),1)]:t.customers.length||t.isLoading?t.isLoading?s("div",{staticClass:"flex justify-center"},[s("q-spinner-hourglass",{attrs:{color:"purple",size:"4em"}})],1):t._e():s("q-banner",{staticClass:"bg-primary text-white text-center"},[s("h6",{staticClass:"q-ma-none"},[t._v("\n        Клиентов пока нет\n      ")])])],2)],1)},a=[],o=s("2f62"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"my-card q-mt-md"},[s("q-card-section",[s("div",{staticClass:"text-h6"},[s("q-icon",{attrs:{name:"people"}}),t._v("\n      "+t._s(t.username)+"\n    ")],1)]),s("q-separator"),s("q-card-actions",{attrs:{vertical:""}},[s("div",{staticClass:"flex justify-start"},[s("span",[t._v("рейтинг")]),s("div",{staticClass:"q-ml-md",class:t.colorStar},t._l(t.rating,(function(t){return s("q-icon",{key:t,attrs:{name:"star"}})})),1)]),s("div",{staticClass:"flex justify-start"},[s("span",[t._v("отзывы")]),s("div",{staticClass:"q-ml-md"},[s("q-icon",{attrs:{name:"reviews"}})],1),t.reviews.length?s("q-badge",{staticClass:"q-ml-md",attrs:{rounded:"",color:"primary",label:t.reviews.length}}):t._e()],1),s("q-btn",{staticClass:"q-mt-md",attrs:{color:"primary",label:"Подробнее о клиенте",to:{path:"customer/"+t.slug},exact:""}})],1)],1)},i=[],l={name:"CustomerItem",props:{slug:{type:Number,required:!0},username:{type:String,required:!0},rating:{type:Number,required:!0},reviews:{type:Array,required:!0}},computed:{colorStar(){return this.rating>7?"text-positive":this.rating<7&&this.rating>4?"text-warning":"text-red"}}},c=l,u=s("2877"),m=s("f09f"),d=s("a370"),p=s("0016"),h=s("eb85"),C=s("4b7e"),b=s("58a81"),g=s("9c40"),v=s("eebe"),f=s.n(v),q=Object(u["a"])(c,n,i,!1,null,null,null),S=q.exports;f()(q,"components",{QCard:m["a"],QCardSection:d["a"],QIcon:p["a"],QSeparator:h["a"],QCardActions:C["a"],QBadge:b["a"],QBtn:g["a"]});var y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-input",{attrs:{outlined:"","bottom-slots":"",label:"поиск клиентов"},on:{input:t.filterCustomers},scopedSlots:t._u([{key:"append",fn:function(){return[""!==t.searchNameCustomer?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:t.cleanInput}}):t._e(),s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.searchNameCustomer,callback:function(e){t.searchNameCustomer=e},expression:"searchNameCustomer"}})},w=[],_=s("1c16"),x={name:"SearchBarCustomers",computed:{...Object(o["d"])("customers",["searchCustomer"]),searchNameCustomer:{get(){return this.searchCustomer},set(t){this.setSearchNameCustomer(t)}}},methods:{...Object(o["b"])("customers",["setSearchNameCustomer","filteredCustomers"]),filterCustomers(){console.log(112),this.filteredCustomers()},cleanInput(){this.searchNameCustomer="",this.filteredCustomers()}},created(){this.filterCustomers=Object(_["a"])(this.filterCustomers,2e3),this.cleanInput=Object(_["a"])(this.cleanInput,1e3)}},Q=x,j=s("27f9"),I=Object(u["a"])(Q,y,w,!1,null,null,null),B=I.exports;f()(I,"components",{QInput:j["a"],QIcon:p["a"]});var k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-select",{attrs:{outlined:"",options:t.options,"emit-value":"","map-options":"",label:"сортировка клиентов по рейтингу и отзывам"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}})},O=[],F={name:"SortByCustomers",data(){return{options:[{label:"по рейтингу",value:"rating"},{label:"по количеству отзывов",value:"reviews"}]}},computed:{...Object(o["d"])("customers",["sortType"]),sortBy:{get(){return this.sortType},set(t){this.setSortType(t)}}},methods:{...Object(o["b"])("customers",["setSortType"])}},N=F,T=s("ddd8"),P=Object(u["a"])(N,k,O,!1,null,null,null),L=P.exports;f()(P,"components",{QSelect:T["a"]});var $={name:"PageCustomers",components:{CustomerItem:S,SearchBarCustomers:B,SortByCustomers:L},computed:{...Object(o["c"])("customers",["customers","isLoading","showFilterSortPanel"]),labelToggle(){const t=this.showFilterSortPanel?"спрятать":"показать";return`${t} фильтр поиска и сортировки клиентов`},showFilterSort:{get(){return this.showFilterSortPanel},set(t){console.log(t),this.setShowFilterSortPanel(t)}}},methods:{...Object(o["b"])("customers",["initialCustomers","setShowFilterSortPanel","initialStatusToggleCustomer"])},mounted(){this.initialCustomers(),this.initialStatusToggleCustomer()}},E=$,U=(s("c881"),s("9989")),A=s("9564"),J=s("1c1c"),z=s("0170"),H=s("54e1"),D=s("9149"),G=Object(u["a"])(E,r,a,!1,null,"360ec5f1",null);e["default"]=G.exports;f()(G,"components",{QPage:U["a"],QToggle:A["a"],QList:J["a"],QItemLabel:z["a"],QBanner:H["a"],QSpinnerHourglass:D["a"]})},c881:function(t,e,s){"use strict";s("4ce9")}}]);